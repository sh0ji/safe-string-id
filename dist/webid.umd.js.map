{"version":3,"file":"webid.umd.js.map","sources":["../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/shortid/lib/random/random-from-seed.js","../node_modules/shortid/lib/alphabet.js","../node_modules/rollup-plugin-node-globals/src/global.js","../node_modules/shortid/lib/random/random-byte.js","../node_modules/nanoid/format.js","../node_modules/shortid/lib/generate.js","../node_modules/shortid/lib/build.js","../node_modules/shortid/lib/is-valid.js","../node_modules/process-es6/browser.js","../node_modules/shortid/lib/util/cluster-worker-id.js","../node_modules/shortid/lib/index.js","../node_modules/shortid/index.js","../node_modules/slugify/index.js","../src/constants.js","../src/webid.js"],"sourcesContent":["function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nfunction get () {\n  return alphabet || ORIGINAL;\n}\n\nmodule.exports = {\n    get: get,\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n","export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","module.exports = require('nanoid/random');\n","/**\n * Secure random string generator with custom alphabet.\n *\n * Alphabet must contain 256 symbols or less. Otherwise, the generator\n * will not be secure.\n *\n * @param {generator} random The random bytes generator.\n * @param {string} alphabet Symbols to be used in new random string.\n * @param {size} size The number of symbols in new random string.\n *\n * @return {string} Random string.\n *\n * @example\n * const format = require('nanoid/format')\n *\n * function random (size) {\n *   const result = []\n *   for (let i = 0; i < size; i++) {\n *     result.push(randomByte())\n *   }\n *   return result\n * }\n *\n * format(random, \"abcdef\", 5) //=> \"fbaef\"\n *\n * @name format\n * @function\n */\nmodule.exports = function (random, alphabet, size) {\n  var mask = (2 << Math.log(alphabet.length - 1) / Math.LN2) - 1\n  var step = Math.ceil(1.6 * mask * size / alphabet.length)\n  size = +size\n\n  var id = ''\n  while (true) {\n    var bytes = random(step)\n    for (var i = 0; i < step; i++) {\n      var byte = bytes[i] & mask\n      if (alphabet[byte]) {\n        id += alphabet[byte]\n        if (id.length === size) return id\n      }\n    }\n  }\n}\n\n/**\n * @callback generator\n * @param {number} bytes The number of bytes to generate.\n * @return {number[]} Random bytes.\n */\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar random = require('./random/random-byte');\nvar format = require('nanoid/format');\n\nfunction generate(number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + format(random, alphabet.get(), 1);\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = generate;\n","'use strict';\n\nvar generate = require('./generate');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + generate(version);\n    str = str + generate(clusterWorkerId);\n    if (counter > 0) {\n        str = str + generate(counter);\n    }\n    str = str + generate(seconds);\n    return str;\n}\n\nmodule.exports = build;\n","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var nonAlphabetic = new RegExp('[^' +\n      alphabet.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g, '\\\\$&') +\n    ']');\n    return !nonAlphabetic.test(id);\n}\n\nmodule.exports = isShortId;\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","'use strict';\n\nvar cluster = require('cluster');\n\nvar clusterId = 0;\nif (!cluster.isMaster && cluster.worker) {\n    clusterId = cluster.worker.id;\n}\nmodule.exports = parseInt(process.env.NODE_UNIQUE_ID || clusterId, 10);\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar build = require('./build');\nvar isValid = require('./is-valid');\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.isValid = isValid;\n","'use strict';\nmodule.exports = require('./lib/index');\n","\n;(function (name, root, factory) {\n  if (typeof exports === 'object') {\n    module.exports = factory()\n    module.exports['default'] = factory()\n  }\n  /* istanbul ignore next */\n  else if (typeof define === 'function' && define.amd) {\n    define(factory)\n  }\n  else {\n    root[name] = factory()\n  }\n}('slugify', this, function () {\n  /* eslint-disable */\n  var charMap = JSON.parse('{\"$\":\"dollar\",\"%\":\"percent\",\"&\":\"and\",\"<\":\"less\",\">\":\"greater\",\"|\":\"or\",\"¢\":\"cent\",\"£\":\"pound\",\"¤\":\"currency\",\"¥\":\"yen\",\"©\":\"(c)\",\"ª\":\"a\",\"®\":\"(r)\",\"º\":\"o\",\"À\":\"A\",\"Á\":\"A\",\"Â\":\"A\",\"Ã\":\"A\",\"Ä\":\"A\",\"Å\":\"A\",\"Æ\":\"AE\",\"Ç\":\"C\",\"È\":\"E\",\"É\":\"E\",\"Ê\":\"E\",\"Ë\":\"E\",\"Ì\":\"I\",\"Í\":\"I\",\"Î\":\"I\",\"Ï\":\"I\",\"Ð\":\"D\",\"Ñ\":\"N\",\"Ò\":\"O\",\"Ó\":\"O\",\"Ô\":\"O\",\"Õ\":\"O\",\"Ö\":\"O\",\"Ø\":\"O\",\"Ù\":\"U\",\"Ú\":\"U\",\"Û\":\"U\",\"Ü\":\"U\",\"Ý\":\"Y\",\"Þ\":\"TH\",\"ß\":\"ss\",\"à\":\"a\",\"á\":\"a\",\"â\":\"a\",\"ã\":\"a\",\"ä\":\"a\",\"å\":\"a\",\"æ\":\"ae\",\"ç\":\"c\",\"è\":\"e\",\"é\":\"e\",\"ê\":\"e\",\"ë\":\"e\",\"ì\":\"i\",\"í\":\"i\",\"î\":\"i\",\"ï\":\"i\",\"ð\":\"d\",\"ñ\":\"n\",\"ò\":\"o\",\"ó\":\"o\",\"ô\":\"o\",\"õ\":\"o\",\"ö\":\"o\",\"ø\":\"o\",\"ù\":\"u\",\"ú\":\"u\",\"û\":\"u\",\"ü\":\"u\",\"ý\":\"y\",\"þ\":\"th\",\"ÿ\":\"y\",\"Ā\":\"A\",\"ā\":\"a\",\"Ă\":\"A\",\"ă\":\"a\",\"Ą\":\"A\",\"ą\":\"a\",\"Ć\":\"C\",\"ć\":\"c\",\"Č\":\"C\",\"č\":\"c\",\"Ď\":\"D\",\"ď\":\"d\",\"Đ\":\"DJ\",\"đ\":\"dj\",\"Ē\":\"E\",\"ē\":\"e\",\"Ė\":\"E\",\"ė\":\"e\",\"Ę\":\"e\",\"ę\":\"e\",\"Ě\":\"E\",\"ě\":\"e\",\"Ğ\":\"G\",\"ğ\":\"g\",\"Ģ\":\"G\",\"ģ\":\"g\",\"Ĩ\":\"I\",\"ĩ\":\"i\",\"Ī\":\"i\",\"ī\":\"i\",\"Į\":\"I\",\"į\":\"i\",\"İ\":\"I\",\"ı\":\"i\",\"Ķ\":\"k\",\"ķ\":\"k\",\"Ļ\":\"L\",\"ļ\":\"l\",\"Ľ\":\"L\",\"ľ\":\"l\",\"Ł\":\"L\",\"ł\":\"l\",\"Ń\":\"N\",\"ń\":\"n\",\"Ņ\":\"N\",\"ņ\":\"n\",\"Ň\":\"N\",\"ň\":\"n\",\"Ő\":\"O\",\"ő\":\"o\",\"Œ\":\"OE\",\"œ\":\"oe\",\"Ŕ\":\"R\",\"ŕ\":\"r\",\"Ř\":\"R\",\"ř\":\"r\",\"Ś\":\"S\",\"ś\":\"s\",\"Ş\":\"S\",\"ş\":\"s\",\"Š\":\"S\",\"š\":\"s\",\"Ţ\":\"T\",\"ţ\":\"t\",\"Ť\":\"T\",\"ť\":\"t\",\"Ũ\":\"U\",\"ũ\":\"u\",\"Ū\":\"u\",\"ū\":\"u\",\"Ů\":\"U\",\"ů\":\"u\",\"Ű\":\"U\",\"ű\":\"u\",\"Ų\":\"U\",\"ų\":\"u\",\"Ź\":\"Z\",\"ź\":\"z\",\"Ż\":\"Z\",\"ż\":\"z\",\"Ž\":\"Z\",\"ž\":\"z\",\"ƒ\":\"f\",\"Ơ\":\"O\",\"ơ\":\"o\",\"Ư\":\"U\",\"ư\":\"u\",\"ǈ\":\"LJ\",\"ǉ\":\"lj\",\"ǋ\":\"NJ\",\"ǌ\":\"nj\",\"Ș\":\"S\",\"ș\":\"s\",\"Ț\":\"T\",\"ț\":\"t\",\"˚\":\"o\",\"Ά\":\"A\",\"Έ\":\"E\",\"Ή\":\"H\",\"Ί\":\"I\",\"Ό\":\"O\",\"Ύ\":\"Y\",\"Ώ\":\"W\",\"ΐ\":\"i\",\"Α\":\"A\",\"Β\":\"B\",\"Γ\":\"G\",\"Δ\":\"D\",\"Ε\":\"E\",\"Ζ\":\"Z\",\"Η\":\"H\",\"Θ\":\"8\",\"Ι\":\"I\",\"Κ\":\"K\",\"Λ\":\"L\",\"Μ\":\"M\",\"Ν\":\"N\",\"Ξ\":\"3\",\"Ο\":\"O\",\"Π\":\"P\",\"Ρ\":\"R\",\"Σ\":\"S\",\"Τ\":\"T\",\"Υ\":\"Y\",\"Φ\":\"F\",\"Χ\":\"X\",\"Ψ\":\"PS\",\"Ω\":\"W\",\"Ϊ\":\"I\",\"Ϋ\":\"Y\",\"ά\":\"a\",\"έ\":\"e\",\"ή\":\"h\",\"ί\":\"i\",\"ΰ\":\"y\",\"α\":\"a\",\"β\":\"b\",\"γ\":\"g\",\"δ\":\"d\",\"ε\":\"e\",\"ζ\":\"z\",\"η\":\"h\",\"θ\":\"8\",\"ι\":\"i\",\"κ\":\"k\",\"λ\":\"l\",\"μ\":\"m\",\"ν\":\"n\",\"ξ\":\"3\",\"ο\":\"o\",\"π\":\"p\",\"ρ\":\"r\",\"ς\":\"s\",\"σ\":\"s\",\"τ\":\"t\",\"υ\":\"y\",\"φ\":\"f\",\"χ\":\"x\",\"ψ\":\"ps\",\"ω\":\"w\",\"ϊ\":\"i\",\"ϋ\":\"y\",\"ό\":\"o\",\"ύ\":\"y\",\"ώ\":\"w\",\"Ё\":\"Yo\",\"Ђ\":\"DJ\",\"Є\":\"Ye\",\"І\":\"I\",\"Ї\":\"Yi\",\"Ј\":\"J\",\"Љ\":\"LJ\",\"Њ\":\"NJ\",\"Ћ\":\"C\",\"Џ\":\"DZ\",\"А\":\"A\",\"Б\":\"B\",\"В\":\"V\",\"Г\":\"G\",\"Д\":\"D\",\"Е\":\"E\",\"Ж\":\"Zh\",\"З\":\"Z\",\"И\":\"I\",\"Й\":\"J\",\"К\":\"K\",\"Л\":\"L\",\"М\":\"M\",\"Н\":\"N\",\"О\":\"O\",\"П\":\"P\",\"Р\":\"R\",\"С\":\"S\",\"Т\":\"T\",\"У\":\"U\",\"Ф\":\"F\",\"Х\":\"H\",\"Ц\":\"C\",\"Ч\":\"Ch\",\"Ш\":\"Sh\",\"Щ\":\"Sh\",\"Ъ\":\"U\",\"Ы\":\"Y\",\"Ь\":\"\",\"Э\":\"E\",\"Ю\":\"Yu\",\"Я\":\"Ya\",\"а\":\"a\",\"б\":\"b\",\"в\":\"v\",\"г\":\"g\",\"д\":\"d\",\"е\":\"e\",\"ж\":\"zh\",\"з\":\"z\",\"и\":\"i\",\"й\":\"j\",\"к\":\"k\",\"л\":\"l\",\"м\":\"m\",\"н\":\"n\",\"о\":\"o\",\"п\":\"p\",\"р\":\"r\",\"с\":\"s\",\"т\":\"t\",\"у\":\"u\",\"ф\":\"f\",\"х\":\"h\",\"ц\":\"c\",\"ч\":\"ch\",\"ш\":\"sh\",\"щ\":\"sh\",\"ъ\":\"u\",\"ы\":\"y\",\"ь\":\"\",\"э\":\"e\",\"ю\":\"yu\",\"я\":\"ya\",\"ё\":\"yo\",\"ђ\":\"dj\",\"є\":\"ye\",\"і\":\"i\",\"ї\":\"yi\",\"ј\":\"j\",\"љ\":\"lj\",\"њ\":\"nj\",\"ћ\":\"c\",\"џ\":\"dz\",\"Ґ\":\"G\",\"ґ\":\"g\",\"฿\":\"baht\",\"ა\":\"a\",\"ბ\":\"b\",\"გ\":\"g\",\"დ\":\"d\",\"ე\":\"e\",\"ვ\":\"v\",\"ზ\":\"z\",\"თ\":\"t\",\"ი\":\"i\",\"კ\":\"k\",\"ლ\":\"l\",\"მ\":\"m\",\"ნ\":\"n\",\"ო\":\"o\",\"პ\":\"p\",\"ჟ\":\"zh\",\"რ\":\"r\",\"ს\":\"s\",\"ტ\":\"t\",\"უ\":\"u\",\"ფ\":\"f\",\"ქ\":\"k\",\"ღ\":\"gh\",\"ყ\":\"q\",\"შ\":\"sh\",\"ჩ\":\"ch\",\"ც\":\"ts\",\"ძ\":\"dz\",\"წ\":\"ts\",\"ჭ\":\"ch\",\"ხ\":\"kh\",\"ჯ\":\"j\",\"ჰ\":\"h\",\"ẞ\":\"SS\",\"Ạ\":\"A\",\"ạ\":\"a\",\"Ả\":\"A\",\"ả\":\"a\",\"Ấ\":\"A\",\"ấ\":\"a\",\"Ầ\":\"A\",\"ầ\":\"a\",\"Ẩ\":\"A\",\"ẩ\":\"a\",\"Ẫ\":\"A\",\"ẫ\":\"a\",\"Ậ\":\"A\",\"ậ\":\"a\",\"Ắ\":\"A\",\"ắ\":\"a\",\"Ằ\":\"A\",\"ằ\":\"a\",\"Ẳ\":\"A\",\"ẳ\":\"a\",\"Ẵ\":\"A\",\"ẵ\":\"a\",\"Ặ\":\"A\",\"ặ\":\"a\",\"Ẹ\":\"E\",\"ẹ\":\"e\",\"Ẻ\":\"E\",\"ẻ\":\"e\",\"Ẽ\":\"E\",\"ẽ\":\"e\",\"Ế\":\"E\",\"ế\":\"e\",\"Ề\":\"E\",\"ề\":\"e\",\"Ể\":\"E\",\"ể\":\"e\",\"Ễ\":\"E\",\"ễ\":\"e\",\"Ệ\":\"E\",\"ệ\":\"e\",\"Ỉ\":\"I\",\"ỉ\":\"i\",\"Ị\":\"I\",\"ị\":\"i\",\"Ọ\":\"O\",\"ọ\":\"o\",\"Ỏ\":\"O\",\"ỏ\":\"o\",\"Ố\":\"O\",\"ố\":\"o\",\"Ồ\":\"O\",\"ồ\":\"o\",\"Ổ\":\"O\",\"ổ\":\"o\",\"Ỗ\":\"O\",\"ỗ\":\"o\",\"Ộ\":\"O\",\"ộ\":\"o\",\"Ớ\":\"O\",\"ớ\":\"o\",\"Ờ\":\"O\",\"ờ\":\"o\",\"Ở\":\"O\",\"ở\":\"o\",\"Ỡ\":\"O\",\"ỡ\":\"o\",\"Ợ\":\"O\",\"ợ\":\"o\",\"Ụ\":\"U\",\"ụ\":\"u\",\"Ủ\":\"U\",\"ủ\":\"u\",\"Ứ\":\"U\",\"ứ\":\"u\",\"Ừ\":\"U\",\"ừ\":\"u\",\"Ử\":\"U\",\"ử\":\"u\",\"Ữ\":\"U\",\"ữ\":\"u\",\"Ự\":\"U\",\"ự\":\"u\",\"Ỳ\":\"Y\",\"ỳ\":\"y\",\"Ỵ\":\"Y\",\"ỵ\":\"y\",\"Ỷ\":\"Y\",\"ỷ\":\"y\",\"Ỹ\":\"Y\",\"ỹ\":\"y\",\"‘\":\"\\'\",\"’\":\"\\'\",\"“\":\"\\\\\\\"\",\"”\":\"\\\\\\\"\",\"†\":\"+\",\"•\":\"*\",\"…\":\"...\",\"₠\":\"ecu\",\"₢\":\"cruzeiro\",\"₣\":\"french franc\",\"₤\":\"lira\",\"₥\":\"mill\",\"₦\":\"naira\",\"₧\":\"peseta\",\"₨\":\"rupee\",\"₩\":\"won\",\"₪\":\"new shequel\",\"₫\":\"dong\",\"€\":\"euro\",\"₭\":\"kip\",\"₮\":\"tugrik\",\"₯\":\"drachma\",\"₰\":\"penny\",\"₱\":\"peso\",\"₲\":\"guarani\",\"₳\":\"austral\",\"₴\":\"hryvnia\",\"₵\":\"cedi\",\"₹\":\"indian rupee\",\"₽\":\"russian ruble\",\"₿\":\"bitcoin\",\"℠\":\"sm\",\"™\":\"tm\",\"∂\":\"d\",\"∆\":\"delta\",\"∑\":\"sum\",\"∞\":\"infinity\",\"♥\":\"love\",\"元\":\"yuan\",\"円\":\"yen\",\"﷼\":\"rial\"}')\n  /* eslint-enable */\n\n  function replace (string, options) {\n    if (typeof string !== 'string') {\n      throw new Error('slugify: string argument expected')\n    }\n\n    options = (typeof options === 'string')\n      ? {replacement: options}\n      : options || {}\n\n    var slug = string.split('')\n      .reduce(function (result, ch) {\n        return result + (charMap[ch] || ch)\n          // allowed\n          .replace(options.remove || /[^\\w\\s$*_+~.()'\"!\\-:@]/g, '')\n      }, '')\n      // trim leading/trailing spaces\n      .trim()\n      // convert spaces\n      .replace(/[-\\s]+/g, options.replacement || '-')\n\n    return options.lower ? slug.toLowerCase() : slug\n  }\n\n  replace.extend = function (customMap) {\n    for (var key in customMap) {\n      charMap[key] = customMap[key]\n    }\n  }\n\n  return replace\n}))\n","export const getCharacters = (delimiter) => {\n\tconst standard = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_';\n\tconst replacement = '~';\n\treturn standard.replace(delimiter, replacement);\n};\n\nexport const DefaultOptions = {\n\tdelimiter: '-',\n\tlower: true,\n\tmaxLength: 128,\n\tremove: null,\n\tstrict: true,\n};\n\nexport const Private = {\n\tdelimiter: new WeakMap(),\n\tprefix: new WeakMap(),\n\tsuffix: new WeakMap(),\n};\n\nexport const Errors = {\n\tTYPE_IS_STRING: str => ({\n\t\tassertion: typeof str === 'string',\n\t\terror: new TypeError(`Expected a string. Received ${typeof str}.`),\n\t}),\n\tSTRICT_DELIMITER: value => ({\n\t\tassertion: /^[\\w-._~]*$/.test(value),\n\t\terror: new Error(`${value} is not a safe delimiter.`),\n\t}),\n\tNON_STRICT_DELIMITER: value => ({\n\t\tassertion: /^\\S*$/g.test(value),\n\t\terror: new Error('The delimiter cannot be a space.'),\n\t}),\n\tVALID_PREFIX: value => ({\n\t\tassertion: /^[a-z]+/i.test(value),\n\t\terror: new Error('prefix must begin with a letter (a-z).'),\n\t}),\n};\n\nexport const Assertions = (() => {\n\tconst obj = {};\n\tObject.keys(Errors).forEach((a) => {\n\t\tobj[a] = (v) => {\n\t\t\tconst err = Errors[a](v);\n\t\t\tif (!err.assertion) {\n\t\t\t\tthrow err.error;\n\t\t\t}\n\t\t};\n\t});\n\treturn obj;\n})();\n","import short from 'shortid';\nimport slugify from 'slugify';\nimport {\n\tgetCharacters,\n\tDefaultOptions,\n\tPrivate,\n\tAssertions,\n} from './constants';\n\nexport default class WebId {\n\tconstructor(opts = {}) {\n\t\tthis.configure(opts);\n\t}\n\n\tget delimiter() {\n\t\treturn Private.delimiter.get(this);\n\t}\n\n\tset delimiter(value) {\n\t\tif (this.options.strict) {\n\t\t\tAssertions.STRICT_DELIMITER(value);\n\t\t} else {\n\t\t\tAssertions.NON_STRICT_DELIMITER(value);\n\t\t}\n\t\tPrivate.delimiter.set(this, value);\n\t}\n\n\tget prefix() {\n\t\treturn Private.prefix.get(this);\n\t}\n\n\tset prefix(value) {\n\t\tif (!value) {\n\t\t\tPrivate.prefix.set(this, '');\n\t\t\treturn;\n\t\t}\n\t\tAssertions.TYPE_IS_STRING(value);\n\t\tif (this.options.strict) Assertions.VALID_PREFIX(value);\n\t\tlet prefix = this.createSlug(value.trim(), null);\n\t\tif (prefix && !prefix.endsWith(this.delimiter)) {\n\t\t\tprefix += this.delimiter;\n\t\t}\n\t\tPrivate.prefix.set(this, prefix);\n\t}\n\n\tget suffix() {\n\t\treturn Private.suffix.get(this);\n\t}\n\n\tset suffix(value) {\n\t\tif (!value) {\n\t\t\tPrivate.suffix.set(this, '');\n\t\t\treturn;\n\t\t}\n\t\tAssertions.TYPE_IS_STRING(value);\n\t\tlet suffix = this.createSlug(value.trim(), null);\n\t\tif (suffix && !suffix.startsWith(this.delimiter)) {\n\t\t\tsuffix = this.delimiter + suffix;\n\t\t}\n\t\tPrivate.suffix.set(this, suffix);\n\t}\n\n\tslugifyOpts(replacement) {\n\t\treturn {\n\t\t\treplacement,\n\t\t\tremove: this.options.remove,\n\t\t\tlower: this.options.lower,\n\t\t};\n\t}\n\n\tcreateSlug(str, delim = this.delimiter) {\n\t\tconst slug = (str) ? slugify(str, this.slugifyOpts(delim)) : '';\n\t\tif (this.options.strict) {\n\t\t\t/** enable strict mode (html 4 / xhtml) */\n\t\t\treturn slug\n\t\t\t\t/** allowed characters: a-z, A-Z, 0-9, _, :, ., - */\n\t\t\t\t.replace(/[^\\w_:.-]/ig, this.delimiter)\n\t\t\t\t/** must start with letter */\n\t\t\t\t.replace(/^[^a-z]+/, '');\n\t\t}\n\t\treturn slug;\n\t}\n\n\tconfigure(opts = {}) {\n\t\tthis.options = { ...DefaultOptions, ...opts };\n\t\tthis.delimiter = this.options.delim || this.options.delimiter;\n\t\tthis.prefix = this.options.pre || this.options.prefix;\n\t\tthis.suffix = this.options.suf || this.options.suffix;\n\t}\n\n\tparse(_str, _options) {\n\t\tconst str = (typeof _str === 'string') ? _str : '';\n\t\tconst options = (typeof _str === 'object') ? _str : _options;\n\t\tif (options) this.configure(options);\n\t\tconst slug = this.createSlug(str);\n\t\tshort.characters(getCharacters(this.delimiter));\n\t\tconst shortid = short.generate();\n\t\tconst maxLength = this.options.maxLength - this.prefix.length - this.suffix.length;\n\t\tconst uniqueSlug = (slug)\n\t\t\t? [slug.substr(0, maxLength - shortid.length), shortid].join(this.delimiter)\n\t\t\t: shortid;\n\t\treturn {\n\t\t\tid: this.prefix + (slug.substr(0, maxLength) || shortid) + this.suffix,\n\t\t\tunique: this.prefix + uniqueSlug + this.suffix,\n\t\t\toriginal: str,\n\t\t\tslug,\n\t\t\tshortid,\n\t\t\tdelimiter: this.delimiter,\n\t\t\tprefix: this.prefix,\n\t\t\tsuffix: this.suffix,\n\t\t};\n\t}\n\n\tgenerate(str, options) {\n\t\treturn this.parse(str, options).id;\n\t}\n\n\tgenerateUnique(str, options) {\n\t\treturn this.parse(str, options).unique;\n\t}\n}\n"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","seed","getNextValue","setSeed","_seed_","nextValue","ORIGINAL","alphabet","previousSeed","shuffled","reset","setCharacters","_alphabet_","length","Error","unique","split","filter","item","ind","arr","lastIndexOf","join","characters","randomFromSeed","shuffle","sourceArray","targetArray","r","characterIndex","Math","floor","push","splice","getShuffled","lookup","index","alphabetShuffled","get","global","self","window","require$$0","random","size","mask","log","LN2","step","ceil","id","bytes","i","byte","generate","number","loopCounter","done","str","format","pow","REDUCE_TIME","version","counter","previousSeconds","build","clusterWorkerId","seconds","Date","now","isShortId","nonAlphabetic","RegExp","replace","test","setTimeout","clearTimeout","performance","performanceNow","mozNow","msNow","oNow","webkitNow","getTime","cluster","require","clusterId","isMaster","worker","module","exports","parseInt","process","seedValue","workerId","newCharacters","undefined","isValid","name","root","factory","this","charMap","JSON","parse","string","options","replacement","slug","reduce","result","ch","remove","trim","lower","toLowerCase","extend","customMap","getCharacters","delimiter","standard","DefaultOptions","maxLength","strict","Private","WeakMap","prefix","suffix","Errors","TYPE_IS_STRING","assertion","error","TypeError","STRICT_DELIMITER","NON_STRICT_DELIMITER","VALID_PREFIX","Assertions","keys","forEach","a","v","err","WebId","constructor","opts","configure","set","createSlug","endsWith","startsWith","slugifyOpts","delim","slugify","pre","suf","_str","_options","short","shortid","uniqueSlug","substr","original","generateUnique"],"mappings":";;;;;;;;;;;;EAAA,SAASA,eAAT,CAAyBC,GAAzB,EAA8BC,GAA9B,EAAmCC,KAAnC,EAA0C;EACxC,MAAID,GAAG,IAAID,GAAX,EAAgB;EACdG,IAAAA,MAAM,CAACC,cAAP,CAAsBJ,GAAtB,EAA2BC,GAA3B,EAAgC;EAC9BC,MAAAA,KAAK,EAAEA,KADuB;EAE9BG,MAAAA,UAAU,EAAE,IAFkB;EAG9BC,MAAAA,YAAY,EAAE,IAHgB;EAI9BC,MAAAA,QAAQ,EAAE;EAJoB,KAAhC;EAMD,GAPD,MAOO;EACLP,IAAAA,GAAG,CAACC,GAAD,CAAH,GAAWC,KAAX;EACD;;EAED,SAAOF,GAAP;EACD;;EAED,kBAAc,GAAGD,eAAjB;;;;;;;;;;ECVA,IAAIS,IAAI,GAAG,CAAX;;;;;;;EAOA,SAASC,YAAT,GAAwB;EACpBD,EAAAA,IAAI,GAAG,CAACA,IAAI,GAAG,IAAP,GAAc,KAAf,IAAwB,MAA/B;EACA,SAAOA,IAAI,GAAE,QAAb;EACH;;EAED,SAASE,OAAT,CAAiBC,MAAjB,EAAyB;EACrBH,EAAAA,IAAI,GAAGG,MAAP;EACH;;EAED,kBAAc,GAAG;EACbC,EAAAA,SAAS,EAAEH,YADE;EAEbD,EAAAA,IAAI,EAAEE;EAFO,CAAjB;;ECjBA,IAAIG,QAAQ,GAAG,kEAAf;EACA,IAAIC,QAAJ;EACA,IAAIC,YAAJ;EAEA,IAAIC,QAAJ;;EAEA,SAASC,KAAT,GAAiB;EACbD,EAAAA,QAAQ,GAAG,KAAX;EACH;;EAED,SAASE,aAAT,CAAuBC,UAAvB,EAAmC;EAC/B,MAAI,CAACA,UAAL,EAAiB;EACb,QAAIL,QAAQ,KAAKD,QAAjB,EAA2B;EACvBC,MAAAA,QAAQ,GAAGD,QAAX;EACAI,MAAAA,KAAK;EACR;;EACD;EACH;;EAED,MAAIE,UAAU,KAAKL,QAAnB,EAA6B;EACzB;EACH;;EAED,MAAIK,UAAU,CAACC,MAAX,KAAsBP,QAAQ,CAACO,MAAnC,EAA2C;EACvC,UAAM,IAAIC,KAAJ,CAAU,yCAAyCR,QAAQ,CAACO,MAAlD,GAA2D,oCAA3D,GAAkGD,UAAU,CAACC,MAA7G,GAAsH,eAAtH,GAAwID,UAAlJ,CAAN;EACH;;EAED,MAAIG,MAAM,GAAGH,UAAU,CAACI,KAAX,CAAiB,EAAjB,EAAqBC,MAArB,CAA4B,UAASC,IAAT,EAAeC,GAAf,EAAoBC,GAApB,EAAwB;EAC9D,WAAOD,GAAG,KAAKC,GAAG,CAACC,WAAJ,CAAgBH,IAAhB,CAAf;EACF,GAFY,CAAb;;EAIA,MAAIH,MAAM,CAACF,MAAX,EAAmB;EACf,UAAM,IAAIC,KAAJ,CAAU,yCAAyCR,QAAQ,CAACO,MAAlD,GAA2D,wDAA3D,GAAsHE,MAAM,CAACO,IAAP,CAAY,IAAZ,CAAhI,CAAN;EACH;;EAEDf,EAAAA,QAAQ,GAAGK,UAAX;EACAF,EAAAA,KAAK;EACR;;EAED,SAASa,UAAT,CAAoBX,UAApB,EAAgC;EAC5BD,EAAAA,aAAa,CAACC,UAAD,CAAb;EACA,SAAOL,QAAP;EACH;;EAED,SAASJ,SAAT,CAAiBF,IAAjB,EAAuB;EACnBuB,EAAAA,cAAc,CAACvB,IAAf,CAAoBA,IAApB;;EACA,MAAIO,YAAY,KAAKP,IAArB,EAA2B;EACvBS,IAAAA,KAAK;EACLF,IAAAA,YAAY,GAAGP,IAAf;EACH;EACJ;;EAED,SAASwB,OAAT,GAAmB;EACf,MAAI,CAAClB,QAAL,EAAe;EACXI,IAAAA,aAAa,CAACL,QAAD,CAAb;EACH;;EAED,MAAIoB,WAAW,GAAGnB,QAAQ,CAACS,KAAT,CAAe,EAAf,CAAlB;EACA,MAAIW,WAAW,GAAG,EAAlB;EACA,MAAIC,CAAC,GAAGJ,cAAc,CAACnB,SAAf,EAAR;EACA,MAAIwB,cAAJ;;EAEA,SAAOH,WAAW,CAACb,MAAZ,GAAqB,CAA5B,EAA+B;EAC3Be,IAAAA,CAAC,GAAGJ,cAAc,CAACnB,SAAf,EAAJ;EACAwB,IAAAA,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWH,CAAC,GAAGF,WAAW,CAACb,MAA3B,CAAjB;EACAc,IAAAA,WAAW,CAACK,IAAZ,CAAiBN,WAAW,CAACO,MAAZ,CAAmBJ,cAAnB,EAAmC,CAAnC,EAAsC,CAAtC,CAAjB;EACH;;EACD,SAAOF,WAAW,CAACL,IAAZ,CAAiB,EAAjB,CAAP;EACH;;EAED,SAASY,WAAT,GAAuB;EACnB,MAAIzB,QAAJ,EAAc;EACV,WAAOA,QAAP;EACH;;EACDA,EAAAA,QAAQ,GAAGgB,OAAO,EAAlB;EACA,SAAOhB,QAAP;EACH;;;;;;;;EAOD,SAAS0B,MAAT,CAAgBC,KAAhB,EAAuB;EACnB,MAAIC,gBAAgB,GAAGH,WAAW,EAAlC;EACA,SAAOG,gBAAgB,CAACD,KAAD,CAAvB;EACH;;EAED,SAASE,GAAT,GAAgB;EACd,SAAO/B,QAAQ,IAAID,QAAnB;EACD;;EAED,cAAc,GAAG;EACbgC,EAAAA,GAAG,EAAEA,GADQ;EAEbf,EAAAA,UAAU,EAAEA,UAFC;EAGbtB,EAAAA,IAAI,EAAEE,SAHO;EAIbgC,EAAAA,MAAM,EAAEA,MAJK;EAKb1B,EAAAA,QAAQ,EAAEyB;EALG,CAAjB;;AChGA,iBAAgB,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GACJ,OAAOC,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GACA,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,EAFrD;;;;;;;;ECAA,cAAc,GAAGC,MAAjB;;ECAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA4BA,UAAc,GAAG,UAAUC,MAAV,EAAkBpC,QAAlB,EAA4BqC,IAA5B,EAAkC;EACjD,MAAIC,IAAI,GAAG,CAAC,KAAKf,IAAI,CAACgB,GAAL,CAASvC,QAAQ,CAACM,MAAT,GAAkB,CAA3B,IAAgCiB,IAAI,CAACiB,GAA3C,IAAkD,CAA7D;EACA,MAAIC,IAAI,GAAGlB,IAAI,CAACmB,IAAL,CAAU,MAAMJ,IAAN,GAAaD,IAAb,GAAoBrC,QAAQ,CAACM,MAAvC,CAAX;EACA+B,EAAAA,IAAI,GAAG,CAACA,IAAR;EAEA,MAAIM,EAAE,GAAG,EAAT;;EACA,SAAO,IAAP,EAAa;EACX,QAAIC,KAAK,GAAGR,MAAM,CAACK,IAAD,CAAlB;;EACA,SAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,IAApB,EAA0BI,CAAC,EAA3B,EAA+B;EAC7B,UAAIC,IAAI,GAAGF,KAAK,CAACC,CAAD,CAAL,GAAWP,IAAtB;;EACA,UAAItC,QAAQ,CAAC8C,IAAD,CAAZ,EAAoB;EAClBH,QAAAA,EAAE,IAAI3C,QAAQ,CAAC8C,IAAD,CAAd;EACA,YAAIH,EAAE,CAACrC,MAAH,KAAc+B,IAAlB,EAAwB,OAAOM,EAAP;EACzB;EACF;EACF;EACF,CAhBD;;ECtBA,SAASI,QAAT,CAAkBC,MAAlB,EAA0B;EACtB,MAAIC,WAAW,GAAG,CAAlB;EACA,MAAIC,IAAJ;EAEA,MAAIC,GAAG,GAAG,EAAV;;EAEA,SAAO,CAACD,IAAR,EAAc;EACVC,IAAAA,GAAG,GAAGA,GAAG,GAAGC,MAAM,CAAChB,UAAD,EAASpC,UAAQ,CAAC+B,GAAT,EAAT,EAAyB,CAAzB,CAAlB;EACAmB,IAAAA,IAAI,GAAGF,MAAM,GAAIzB,IAAI,CAAC8B,GAAL,CAAS,EAAT,EAAaJ,WAAW,GAAG,CAA3B,CAAjB;EACAA,IAAAA,WAAW;EACd;;EACD,SAAOE,GAAP;EACH;;EAED,cAAc,GAAGJ,QAAjB;;;;;;ECZA,IAAIO,WAAW,GAAG,aAAlB;;;EAIA,IAAIC,OAAO,GAAG,CAAd;;EAGA,IAAIC,OAAJ;;EAGA,IAAIC,eAAJ;;;;;;EAMA,SAASC,KAAT,CAAeC,eAAf,EAAgC;EAC5B,MAAIR,GAAG,GAAG,EAAV;EAEA,MAAIS,OAAO,GAAGrC,IAAI,CAACC,KAAL,CAAW,CAACqC,IAAI,CAACC,GAAL,KAAaR,WAAd,IAA6B,KAAxC,CAAd;;EAEA,MAAIM,OAAO,KAAKH,eAAhB,EAAiC;EAC7BD,IAAAA,OAAO;EACV,GAFD,MAEO;EACHA,IAAAA,OAAO,GAAG,CAAV;EACAC,IAAAA,eAAe,GAAGG,OAAlB;EACH;;EAEDT,EAAAA,GAAG,GAAGA,GAAG,GAAGJ,UAAQ,CAACQ,OAAD,CAApB;EACAJ,EAAAA,GAAG,GAAGA,GAAG,GAAGJ,UAAQ,CAACY,eAAD,CAApB;;EACA,MAAIH,OAAO,GAAG,CAAd,EAAiB;EACbL,IAAAA,GAAG,GAAGA,GAAG,GAAGJ,UAAQ,CAACS,OAAD,CAApB;EACH;;EACDL,EAAAA,GAAG,GAAGA,GAAG,GAAGJ,UAAQ,CAACa,OAAD,CAApB;EACA,SAAOT,GAAP;EACH;;EAED,WAAc,GAAGO,KAAjB;;EC1CA,SAASK,SAAT,CAAmBpB,EAAnB,EAAuB;EACnB,MAAI,CAACA,EAAD,IAAO,OAAOA,EAAP,KAAc,QAArB,IAAiCA,EAAE,CAACrC,MAAH,GAAY,CAAjD,EAAqD;EACjD,WAAO,KAAP;EACH;;EAED,MAAI0D,aAAa,GAAG,IAAIC,MAAJ,CAAW,OAC7BjE,UAAQ,CAAC+B,GAAT,GAAemC,OAAf,CAAuB,sBAAvB,EAA+C,MAA/C,CAD6B,GAE/B,GAFoB,CAApB;EAGA,SAAO,CAACF,aAAa,CAACG,IAAd,CAAmBxB,EAAnB,CAAR;EACH;;EAED,WAAc,GAAGoB,SAAjB;;ECHA,IAAI,OAAO/B,QAAM,CAACoC,UAAd,KAA6B,UAAjC,EAA6C;;EAG7C,IAAI,OAAOpC,QAAM,CAACqC,YAAd,KAA+B,UAAnC,EAA+C;;EAsJ/C,IAAIC,WAAW,GAAGtC,QAAM,CAACsC,WAAP,IAAsB,EAAxC;;EACA,IAAIC,cAAc,GAChBD,WAAW,CAACR,GAAZ,IACAQ,WAAW,CAACE,MADZ,IAEAF,WAAW,CAACG,KAFZ,IAGAH,WAAW,CAACI,IAHZ,IAIAJ,WAAW,CAACK,SAJZ,IAKA,YAAU;EAAE,SAAQ,IAAId,IAAJ,EAAD,CAAae,OAAb,EAAP;EAA+B,CAN7C;;ECnKA,IAAIC,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;EAEA,IAAIC,SAAS,GAAG,CAAhB;;EACA,IAAI,CAACF,OAAO,CAACG,QAAT,IAAqBH,OAAO,CAACI,MAAjC,EAAyC;EACrCF,EAAAA,SAAS,GAAGF,OAAO,CAACI,MAAR,CAAetC,EAA3B;EACH;;EACDuC,MAAM,CAACC,OAAP,GAAiBC,QAAQ,CAACC,CAA8BN,SAA/B,EAA0C,EAA1C,CAAzB;;;;;;;ACRA;;;;EAUA,MAAIpB,iBAAe,GAAGxB,eAAmC,IAAI,CAA7D;;;;;;;;EAQA,WAASzC,IAAT,CAAc4F,SAAd,EAAyB;EACrBtF,IAAAA,UAAQ,CAACN,IAAT,CAAc4F,SAAd;EACA,WAAOJ,MAAM,CAACC,OAAd;EACH;;;;;;;;;EAQD,WAASF,MAAT,CAAgBM,QAAhB,EAA0B;EACtB5B,IAAAA,iBAAe,GAAG4B,QAAlB;EACA,WAAOL,MAAM,CAACC,OAAd;EACH;;;;;;;;EAOD,WAASnE,UAAT,CAAoBwE,aAApB,EAAmC;EAC/B,QAAIA,aAAa,KAAKC,SAAtB,EAAiC;EAC7BzF,MAAAA,UAAQ,CAACgB,UAAT,CAAoBwE,aAApB;EACH;;EAED,WAAOxF,UAAQ,CAACE,QAAT,EAAP;EACH;;;;;;;EAMD,WAAS6C,QAAT,GAAoB;EAClB,WAAOW,OAAK,CAACC,iBAAD,CAAZ;EACD;;;EAGDuB,EAAAA,cAAA,GAAiBnC,QAAjB;EACAmC,EAAAA,cAAA,SAAA,GAA0BnC,QAA1B;EACAmC,EAAAA,cAAA,KAAA,GAAsBxF,IAAtB;EACAwF,EAAAA,cAAA,OAAA,GAAwBD,MAAxB;EACAC,EAAAA,cAAA,WAAA,GAA4BlE,UAA5B;EACAkE,EAAAA,cAAA,QAAA,GAAyBQ,OAAzB;;;;;;;;EC5DA,WAAc,GAAGvD,GAAjB;;;ACAA;EAAE,aAAUwD,IAAV,EAAgBC,IAAhB,EAAsBC,OAAtB,EAA+B;EAC/B,IAAiC;EAC/BX,MAAAA,cAAA,GAAiBW,OAAO,EAAxB;EACAX,MAAAA,MAAM,CAACC,OAAP,CAAe,SAAf,IAA4BU,OAAO,EAAnC;EACD;EAQF,GAZC,EAYA,SAZA,EAYWC,cAZX,EAYiB,YAAY;;EAE7B,QAAIC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAW,6mIAAX,CAAd;;;EAGA,aAAS/B,OAAT,CAAkBgC,MAAlB,EAA0BC,OAA1B,EAAmC;EACjC,UAAI,OAAOD,MAAP,KAAkB,QAAtB,EAAgC;EAC9B,cAAM,IAAI3F,KAAJ,CAAU,mCAAV,CAAN;EACD;;EAED4F,MAAAA,OAAO,GAAI,OAAOA,OAAP,KAAmB,QAApB,GACN;EAACC,QAAAA,WAAW,EAAED;EAAd,OADM,GAENA,OAAO,IAAI,EAFf;EAIA,UAAIE,IAAI,GAAGH,MAAM,CAACzF,KAAP,CAAa,EAAb,EACR6F,MADQ,CACD,UAAUC,MAAV,EAAkBC,EAAlB,EAAsB;EAC5B,eAAOD,MAAM,GAAG,CAACR,OAAO,CAACS,EAAD,CAAP,IAAeA,EAAhB;EAEbtC,QAAAA,OAFa,CAELiC,OAAO,CAACM,MAAR,IAAkB,yBAFb,EAEwC,EAFxC,CAAhB;EAGD,OALQ,EAKN,EALM;EAAA,OAORC,IAPQ;EAAA,OASRxC,OATQ,CASA,SATA,EASWiC,OAAO,CAACC,WAAR,IAAuB,GATlC,CAAX;EAWA,aAAOD,OAAO,CAACQ,KAAR,GAAgBN,IAAI,CAACO,WAAL,EAAhB,GAAqCP,IAA5C;EACD;;EAEDnC,IAAAA,OAAO,CAAC2C,MAAR,GAAiB,UAAUC,SAAV,EAAqB;EACpC,WAAK,IAAI3H,GAAT,IAAgB2H,SAAhB,EAA2B;EACzBf,QAAAA,OAAO,CAAC5G,GAAD,CAAP,GAAe2H,SAAS,CAAC3H,GAAD,CAAxB;EACD;EACF,KAJD;;EAMA,WAAO+E,OAAP;EACD,GA/CC,CAAD;;;ECDM,MAAM6C,aAAa,GAAIC,SAAD,IAAe;EAC3C,QAAMC,QAAQ,GAAG,kEAAjB;EACA,QAAMb,WAAW,GAAG,GAApB;EACA,SAAOa,QAAQ,CAAC/C,OAAT,CAAiB8C,SAAjB,EAA4BZ,WAA5B,CAAP;EACA,CAJM;AAMP,EAAO,MAAMc,cAAc,GAAG;EAC7BF,EAAAA,SAAS,EAAE,GADkB;EAE7BL,EAAAA,KAAK,EAAE,IAFsB;EAG7BQ,EAAAA,SAAS,EAAE,GAHkB;EAI7BV,EAAAA,MAAM,EAAE,IAJqB;EAK7BW,EAAAA,MAAM,EAAE;EALqB,CAAvB;AAQP,EAAO,MAAMC,OAAO,GAAG;EACtBL,EAAAA,SAAS,EAAE,IAAIM,OAAJ,EADW;EAEtBC,EAAAA,MAAM,EAAE,IAAID,OAAJ,EAFc;EAGtBE,EAAAA,MAAM,EAAE,IAAIF,OAAJ;EAHc,CAAhB;AAMP,EAAO,MAAMG,MAAM,GAAG;EACrBC,EAAAA,cAAc,EAAEvE,GAAG,KAAK;EACvBwE,IAAAA,SAAS,EAAE,OAAOxE,GAAP,KAAe,QADH;EAEvByE,IAAAA,KAAK,EAAE,IAAIC,SAAJ,uCAA6C,OAAO1E,GAApD;EAFgB,GAAL,CADE;EAKrB2E,EAAAA,gBAAgB,EAAE1I,KAAK,KAAK;EAC3BuI,IAAAA,SAAS,EAAE,cAAcxD,IAAd,CAAmB/E,KAAnB,CADgB;EAE3BwI,IAAAA,KAAK,EAAE,IAAIrH,KAAJ,WAAanB,KAAb;EAFoB,GAAL,CALF;EASrB2I,EAAAA,oBAAoB,EAAE3I,KAAK,KAAK;EAC/BuI,IAAAA,SAAS,EAAE,SAASxD,IAAT,CAAc/E,KAAd,CADoB;EAE/BwI,IAAAA,KAAK,EAAE,IAAIrH,KAAJ,CAAU,kCAAV;EAFwB,GAAL,CATN;EAarByH,EAAAA,YAAY,EAAE5I,KAAK,KAAK;EACvBuI,IAAAA,SAAS,EAAE,WAAWxD,IAAX,CAAgB/E,KAAhB,CADY;EAEvBwI,IAAAA,KAAK,EAAE,IAAIrH,KAAJ,CAAU,wCAAV;EAFgB,GAAL;EAbE,CAAf;AAmBP,EAAO,MAAM0H,UAAU,GAAG,CAAC,MAAM;EAChC,QAAM/I,GAAG,GAAG,EAAZ;EACAG,EAAAA,MAAM,CAAC6I,IAAP,CAAYT,MAAZ,EAAoBU,OAApB,CAA6BC,CAAD,IAAO;EAClClJ,IAAAA,GAAG,CAACkJ,CAAD,CAAH,GAAUC,CAAD,IAAO;EACf,YAAMC,GAAG,GAAGb,MAAM,CAACW,CAAD,CAAN,CAAUC,CAAV,CAAZ;;EACA,UAAI,CAACC,GAAG,CAACX,SAAT,EAAoB;EACnB,cAAMW,GAAG,CAACV,KAAV;EACA;EACD,KALD;EAMA,GAPD;EAQA,SAAO1I,GAAP;EACA,CAXyB,GAAnB;;;;;EC9BQ,MAAMqJ,KAAN,CAAY;EAC1BC,EAAAA,WAAW,CAACC,IAAI,GAAG,EAAR,EAAY;EACtB,SAAKC,SAAL,CAAeD,IAAf;EACA;;EAED,MAAIzB,SAAJ,GAAgB;EACf,WAAOK,OAAO,CAACL,SAAR,CAAkBjF,GAAlB,CAAsB,IAAtB,CAAP;EACA;;EAED,MAAIiF,SAAJ,CAAc5H,KAAd,EAAqB;EACpB,QAAI,KAAK+G,OAAL,CAAaiB,MAAjB,EAAyB;EACxBa,MAAAA,UAAU,CAACH,gBAAX,CAA4B1I,KAA5B;EACA,KAFD,MAEO;EACN6I,MAAAA,UAAU,CAACF,oBAAX,CAAgC3I,KAAhC;EACA;;EACDiI,IAAAA,OAAO,CAACL,SAAR,CAAkB2B,GAAlB,CAAsB,IAAtB,EAA4BvJ,KAA5B;EACA;;EAED,MAAImI,MAAJ,GAAa;EACZ,WAAOF,OAAO,CAACE,MAAR,CAAexF,GAAf,CAAmB,IAAnB,CAAP;EACA;;EAED,MAAIwF,MAAJ,CAAWnI,KAAX,EAAkB;EACjB,QAAI,CAACA,KAAL,EAAY;EACXiI,MAAAA,OAAO,CAACE,MAAR,CAAeoB,GAAf,CAAmB,IAAnB,EAAyB,EAAzB;EACA;EACA;;EACDV,IAAAA,UAAU,CAACP,cAAX,CAA0BtI,KAA1B;EACA,QAAI,KAAK+G,OAAL,CAAaiB,MAAjB,EAAyBa,UAAU,CAACD,YAAX,CAAwB5I,KAAxB;EACzB,QAAImI,MAAM,GAAG,KAAKqB,UAAL,CAAgBxJ,KAAK,CAACsH,IAAN,EAAhB,EAA8B,IAA9B,CAAb;;EACA,QAAIa,MAAM,IAAI,CAACA,MAAM,CAACsB,QAAP,CAAgB,KAAK7B,SAArB,CAAf,EAAgD;EAC/CO,MAAAA,MAAM,IAAI,KAAKP,SAAf;EACA;;EACDK,IAAAA,OAAO,CAACE,MAAR,CAAeoB,GAAf,CAAmB,IAAnB,EAAyBpB,MAAzB;EACA;;EAED,MAAIC,MAAJ,GAAa;EACZ,WAAOH,OAAO,CAACG,MAAR,CAAezF,GAAf,CAAmB,IAAnB,CAAP;EACA;;EAED,MAAIyF,MAAJ,CAAWpI,KAAX,EAAkB;EACjB,QAAI,CAACA,KAAL,EAAY;EACXiI,MAAAA,OAAO,CAACG,MAAR,CAAemB,GAAf,CAAmB,IAAnB,EAAyB,EAAzB;EACA;EACA;;EACDV,IAAAA,UAAU,CAACP,cAAX,CAA0BtI,KAA1B;EACA,QAAIoI,MAAM,GAAG,KAAKoB,UAAL,CAAgBxJ,KAAK,CAACsH,IAAN,EAAhB,EAA8B,IAA9B,CAAb;;EACA,QAAIc,MAAM,IAAI,CAACA,MAAM,CAACsB,UAAP,CAAkB,KAAK9B,SAAvB,CAAf,EAAkD;EACjDQ,MAAAA,MAAM,GAAG,KAAKR,SAAL,GAAiBQ,MAA1B;EACA;;EACDH,IAAAA,OAAO,CAACG,MAAR,CAAemB,GAAf,CAAmB,IAAnB,EAAyBnB,MAAzB;EACA;;EAEDuB,EAAAA,WAAW,CAAC3C,WAAD,EAAc;EACxB,WAAO;EACNA,MAAAA,WADM;EAENK,MAAAA,MAAM,EAAE,KAAKN,OAAL,CAAaM,MAFf;EAGNE,MAAAA,KAAK,EAAE,KAAKR,OAAL,CAAaQ;EAHd,KAAP;EAKA;;EAEDiC,EAAAA,UAAU,CAACzF,GAAD,EAAM6F,KAAK,GAAG,KAAKhC,SAAnB,EAA8B;EACvC,UAAMX,IAAI,GAAIlD,GAAD,GAAQ8F,OAAO,CAAC9F,GAAD,EAAM,KAAK4F,WAAL,CAAiBC,KAAjB,CAAN,CAAf,GAAgD,EAA7D;;EACA,QAAI,KAAK7C,OAAL,CAAaiB,MAAjB,EAAyB;EACxB;EACA,aAAOf;EACN;EADU,OAETnC,OAFK,CAEG,aAFH,EAEkB,KAAK8C,SAFvB;EAGN;EAHM,OAIL9C,OAJK,CAIG,UAJH,EAIe,EAJf,CAAP;EAKA;;EACD,WAAOmC,IAAP;EACA;;EAEDqC,EAAAA,SAAS,CAACD,IAAI,GAAG,EAAR,EAAY;EACpB,SAAKtC,OAAL,qBAAoBe,cAApB,MAAuCuB,IAAvC;EACA,SAAKzB,SAAL,GAAiB,KAAKb,OAAL,CAAa6C,KAAb,IAAsB,KAAK7C,OAAL,CAAaa,SAApD;EACA,SAAKO,MAAL,GAAc,KAAKpB,OAAL,CAAa+C,GAAb,IAAoB,KAAK/C,OAAL,CAAaoB,MAA/C;EACA,SAAKC,MAAL,GAAc,KAAKrB,OAAL,CAAagD,GAAb,IAAoB,KAAKhD,OAAL,CAAaqB,MAA/C;EACA;;EAEDvB,EAAAA,KAAK,CAACmD,IAAD,EAAOC,QAAP,EAAiB;EACrB,UAAMlG,GAAG,GAAI,OAAOiG,IAAP,KAAgB,QAAjB,GAA6BA,IAA7B,GAAoC,EAAhD;EACA,UAAMjD,OAAO,GAAI,OAAOiD,IAAP,KAAgB,QAAjB,GAA6BA,IAA7B,GAAoCC,QAApD;EACA,QAAIlD,OAAJ,EAAa,KAAKuC,SAAL,CAAevC,OAAf;EACb,UAAME,IAAI,GAAG,KAAKuC,UAAL,CAAgBzF,GAAhB,CAAb;EACAmG,IAAAA,OAAK,CAACtI,UAAN,CAAiB+F,aAAa,CAAC,KAAKC,SAAN,CAA9B;EACA,UAAMuC,SAAO,GAAGD,OAAK,CAACvG,QAAN,EAAhB;EACA,UAAMoE,SAAS,GAAG,KAAKhB,OAAL,CAAagB,SAAb,GAAyB,KAAKI,MAAL,CAAYjH,MAArC,GAA8C,KAAKkH,MAAL,CAAYlH,MAA5E;EACA,UAAMkJ,UAAU,GAAInD,IAAD,GAChB,CAACA,IAAI,CAACoD,MAAL,CAAY,CAAZ,EAAetC,SAAS,GAAGoC,SAAO,CAACjJ,MAAnC,CAAD,EAA6CiJ,SAA7C,EAAsDxI,IAAtD,CAA2D,KAAKiG,SAAhE,CADgB,GAEhBuC,SAFH;EAGA,WAAO;EACN5G,MAAAA,EAAE,EAAE,KAAK4E,MAAL,IAAelB,IAAI,CAACoD,MAAL,CAAY,CAAZ,EAAetC,SAAf,KAA6BoC,SAA5C,IAAuD,KAAK/B,MAD1D;EAENhH,MAAAA,MAAM,EAAE,KAAK+G,MAAL,GAAciC,UAAd,GAA2B,KAAKhC,MAFlC;EAGNkC,MAAAA,QAAQ,EAAEvG,GAHJ;EAINkD,MAAAA,IAJM;EAKNkD,eAAAA,SALM;EAMNvC,MAAAA,SAAS,EAAE,KAAKA,SANV;EAONO,MAAAA,MAAM,EAAE,KAAKA,MAPP;EAQNC,MAAAA,MAAM,EAAE,KAAKA;EARP,KAAP;EAUA;;EAEDzE,EAAAA,QAAQ,CAACI,GAAD,EAAMgD,OAAN,EAAe;EACtB,WAAO,KAAKF,KAAL,CAAW9C,GAAX,EAAgBgD,OAAhB,EAAyBxD,EAAhC;EACA;;EAEDgH,EAAAA,cAAc,CAACxG,GAAD,EAAMgD,OAAN,EAAe;EAC5B,WAAO,KAAKF,KAAL,CAAW9C,GAAX,EAAgBgD,OAAhB,EAAyB3F,MAAhC;EACA;;EA9GyB;;;;;;;;"}